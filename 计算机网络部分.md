# 一、HTTP
##  1.GET和POST请求的区别

GET和POST是HTTP协议两种最常见的请求，它们在发送数据到服务器请求资源时有以下区别：

1.数据传输方式

- GET请求通过URL传输数据，数据附加在URL之后，一般形式：URL+?:key1=value1&&key2=value2，用户可见
- POST请求把数据放在HTTP消息的消息体（Body）里，一般对用户不可见，但这允许传输更大的数据

2.数据长度限制

- GET请求由于把数据附加在URL后，所以数据长度受URL长度所限，通常限制在2048个字符内
-  POST请求没有长度限制，理论上可以传输大量数据

3.安全性

- GET请求的数据是所有人可见的，会显示在URL中，所以不太安全，不适合传输敏感信息
- POST请求相对更安全，因为它不会显示在URL中，但是通过网络抓包工具还是能查看到

4.缓存

- GET请求能够被缓存，且能通过浏览器前进，后退访问，可以保存在浏览器历史记录中，能够被书签
- POST请求不能够被缓存，不会保留在历史记录中，也不能通过前进后退按钮访问，不能够被书签

5.幂等性

- GET请求是幂等的，多个相同的GET请求返回相同的结果，也就是多次访问不会改变资源的状态
- POST请求通常不是幂等的，它用于创建或更改资源，因此多次发送相同的POST请求可能每次都会有副作用

6.用途

- GET请求用来请求服务器发送资源，例如页面，图像，数据等
- POST请求用来提交表单数据，上传文件，或者通过API与服务器进行交互时创建资源和更新资源


##  2.POST和PUT请求的区别
1.用途

- POST请求常用于创建新的资源，当你不知道新的资源的URI想让服务器帮你创建一个时，使用POST。除了创建资源，它也可以用于出发操作或函数
- PUT请求通常用于更新已存在的资源，或者创建一个已知URI的新资源，如果你想替换目标资源的所有当前表示，用PUT

2.幂等性

- POST是非幂等的，意味着多次相同的POST请求，可能每次都会在服务器上生成新的资源
- PUT是幂等的，意味着多次执行相同的PUT请求，服务器上的资源情况不变

3.服务端的操作

- POST请求，它请求的结果通常是创建一个或多个新资源，返回时包含新资源的URI
- POST请求是将服务器上的目标资源与请求的内容进行替换

4.客户端提供的数据

- POST请求中，数据被视为新资源的一个整体，客户端不需要提前知道资源的URI，由服务端来创建
- PUT请求中，客户端指明了要创建或更新资源的URI。请求的数据体是对服务端URI的完整替代。

## 3.常见的HTTP请求头和响应头
HTTP请求头和响应头是HTTP消息的一部分，它们携带额外的信息（如客户端或服务器的信息、资源的元数据等）以帮助请求或响应

常见的HTTP请求头：

    1.Accept - 指定客户端能够接收的内容类型，如Accept:text/html
    2.Accept-Encoding - 指定客户端支持的内容编码类型，比如gzip或deflate
    3.Authorization - 包含凭证信息，通常用于服务器认证
    4.Cache-Control - 指示请求的缓存机制，比如Cache-Control: no-cache
    5.Content-Length - 请求消息体的长度
    6.Content-Type - 请求主体的MIME类型，例如Content-Type: application/json
    7.Cookie - 存放与服务器交互的cookie
    8.Host - 指定请求的服务器的域名和端口号
    9.User-Agent - 包含了有关客户端软件的信息，如浏览器类型和版本
    10.Referer - 表示发送请求的页面的地址
    11.Origin - 表明预期请求发起的源

常见的HTTP响应头

    1.Access-Control-Allow-Origin - 指定哪些网站可以参与跨域资源共享（CORS）
    2.Cache-Control - 指示响应的缓存机制
    3.Content-Encoding - 应用于响应主题的编码方式
    4.Content-Length - 响应消息体的长度
    5.Content-Type - 响应主题的MIME类型
    6.Set-Cookie - 告诉客户端保存一个cookie
    7.Date - 发送响应的日期和时间
    8.ETag - 资源的特定版本标识，用于比较和缓和
    9.Expires - 指定响应内容过期的时间
    10.Location - 用于重定向指向新的URL
    11.Server - 包含有关服务器软件的信息

##  4.常见的HTTP请求方法
- GET:请求指定的页面信息，并返回实体主体
- HEAD:和GET方法类似，但不会返回实体主体，只返回头信息
- POST:用于将客户端数据发送到服务器，比如表单提交
- PUT:从客户端向服务器传送的数据取代指定的文档的内容
- DELETE:请求服务器删除指定的页面
- PATCH:用于对已知资源进行局部更新
- OPTIONS:用于获取目的资源所支持的通信选项
- CONNECT:将连接改为管道方式的代理服务器
- TRACE:回显服务器收到的请求

##  5.常见的HTTP响应码

- 1xx(信息性状态码):接受的请求正在处理
- 2xx(成功状态码):请求正常处理完毕
  * 200 OK:请求成功
  * 201 Created:请求成功并且服务器创建了新的资源
  * 204 No Content: 请求成功但没有内容需要返回
- 3xx(重定向状态码):需要进一步的操作以完成请求
  * 301Moved Permanently:永久重定向
  * 302 Found:临时重定向
  * 304 Not Modified:资源未修改，可使用缓存的版本
- 4xx(请求错误状态码):请求含有语法错误或不能被执行
  * 400 Bad Request:服务器不理解请求的语法
  * 401 Unauthorized:请求需要用户的认证。
  * 403 Forbidden:服务器理解请求客户端的请求，但是拒绝执行此请求
  * 404 Not Found:服务器找不到请求的网页
- 5xx(服务器错误状态码):服务器处理请求出错
  * 500 Internal Server Error:服务器内部错误，无法完成请求。
  * 501 Not Implemented:服务器不支持请求的功能，无法完成请求。
  * 503 Service Unavailable:服务器暂时的无法处理请求(可能是过载或维护) 

##  6.OPTIONS请求方法及使用场景
OPTIONS方法是用于请求获得由Request-URI标识的资源在请求/响应的通信过程中可以使用的功能选项。通过这个方法，客户端可以在采取具体资源请求之前，决定对该资源采取何种必要措施，或者了解服务器的性能。该请求方法的响应不能缓存。

OPTIONS请求方法的主要用途有两个:
  - 获取服务器支持的所有HTTP请求方法；
  - 用来检查访问权限。例如：在进行CORS跨域资源共享时，对于复杂请求，就是用OPTIONS方法发送嗅探请求，以判断是否有对指定资源的访问权限。


##  7.HTTP1.0和HTTP1.1之间有哪些区别

1.连接重用
  - 在HTTP/1.0中，默认情况下，每个请求/响应对都要打开一个新的连接，并在响应后立即关闭。这意味着每个请求都会经历完整的连接建立、数据传输和连接断开的过程，导致额外的延迟
  - HTTP/1.1引入了持久连接(也称为连接重用或Keep-Alive)。默认情况下，连接在发送请求后保持打开状态，可以被后续的请求服用，除非明确要求关闭。这减少了连接和断开的开销，提高了网络的传输效率

2.管道化

  - HTTP/1.1新增了对请求的管道化处理。在同一个TCP连接中，客户端可以在等待第一个请求的回复时发送后续的请求。这可以进一步降低延迟
  - HTTP/1.0不支持管道化，每一个请求都需要等到前一个响应后才能发送

3.分块传输编码

  - HTTP/1.1支持分块传输编码，允许服务器在发送完整响应之前开始传输响应。这对于动态生成的内容非常游泳，因为服务器可以传输数据的同时继续处理剩余的数据
  - HTTP/1.0需要服务器在发送响应之前确定整个响应的内容长度

4.缓存控制

  - HTTP/1.1引入了更复杂的缓存控制机制，如ETag、If-Modified-Since、If-Unmodified-Since、If-Match、If-None-Match等头部字段用来更有效地控制对资源的缓存。
  - HTTP/1.0的缓存控制较为基本，主要使用Pragma和Expires头部字段

5.Host头部

  - HTTP/1.1引入了Host头部，允许多个域名(虚拟主机)在相同的IP地址和端口上共存。HTTP/1.1的请求被要求包含Host头部
  - 在HTTP/1.0中，因为没有Host头部，每个服务的IP地址/端口组合只能对应一个域名

6.请求方法和状态码

  - HTTP/1.1新定义的请求方法包括：
    * OPTIONS
    * PUT
    * DELETE
    * TRACE
    * CONNECT
  - 响应码略

7.对Keep-Alive的理解

  Keep-Alive是HTTP/1.1协议的一个机制，用于保持连接持续活动，允许在同一个TCP连接中发送和接收多个HTTP请求/响应，而不是每次请求/响应都重新建立连接

  在HTTP/1.0中，每完成一个请求/响应周期，连接默认就会关闭，这称为"非持久连接"。每次HTTP交互都需要进行新的TCP三次握手，这增加了延迟和网络负担。随着网络活动的增多，这个问题变得尤为突出。

  为了解决这个问题，HTTP/1.1引入了持久连接(也称为连接复用或Keep-Alive)，特点如下:

  - 减少延迟:避免了因为建立新的TCP连接而产生的延迟(TCP三次握手)
  - 减少资源消耗:复用连接减少了服务器和客户端维护大量连接的需要，从而节省了资源
  - 增加吞吐量:因为连接维持开启，更快的开始数据传输，整体网络吞吐量得到提升

Keep-Alive在HTTP头部使用的两个字段是Connection和Keep-Alive。Connection:Keep-Alive指示这个连接将保持活动状态;Keep-Alive头部可以包含额外的指令，如最长持续时间(timeout)和最大请求数(max),指示连接应保持打开状态的时间和连接上可以发送的最大请求数量。

最终，服务器和客户端可以协商决定是否使用Keep-Alive,以及它的行为。如果任一方决定关闭连接，它们可以发送Connection:close头部来结束连接。

需要注意的是，在现代HTTP实践中，虽然Keep-Alive特性大大提高了HTTP/1.1的性能，但它也引入了某些问题，如服务器端需要处理大量半开连接(half-open connections)导致的资源消耗。随着HTTP/2和HTTP/3的发展，更高效的连接管理策略被采用,例如HTTP/2的多路复用(multiplexing)允许在单个连接上几乎同使发送多个请求和响应

##  8.HTTP请求报文的是什么样的？
HTTP请求报文是由客户端发送给服务器以发起请求的信息。一个标准的HTTP请求报文由三个主要部分组成:请求行、请求头部(Headers)和请求体(Body,不是所有请求都有)

1.请求行:
  - 包括请求方法、请求的资源路径(URL或URI的一部分)和HTTP协议的版本。
  - 例如:GET /index.html HTTP/1.1

2.请求头部:
  - 包含了描述请求的Metadata，可以有很多行，每个头部详细描述了请求的信息、客户端信息等。
  - 例如：
  ```     Host: www.example.com
     User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)
     Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
     Accept-Language: en-US,en;q=0.5
     Accept-Encoding: gzip, deflate
     Connection: keep-alive
     Cookie: sessionId=abc123
  ```
3.空行

  - 请求头部和请求体之间有一个空行，表示请求头部的结束

4.请求体(可选)

  - 不是所有的请求都有请求体，通常只有POST和PUT这类请求会包含请求体
  - 包含了发送给服务器的数据，通常是在POST请求中提交表单数据时使用

##  9.HTTP响应报文是什么样的？
HTTP响应报文是服务器在收到客户端的HTTP请求后，返回给客户端的信息。一个标准的HTTP响应报文由三个主要部分组成:状态行、响应头部(Headers)、响应体(Body,不是所有响应体都有)。

1.状态行
  - 包括HTTP协议的版本、状态码及其原因短语。
  - 例如:HTTP/1.1 200 OK

2.响应头部
  - 包含了描述响应的Metadata,可以有多个头部行,每个头部详细描述了服务器的信息、响应体的内容类型和长度、缓存控制等
  - 例如:
```
     Date: Wed, 21 Oct 2020 07:28:00 GMT
     Server: Apache/2.4.1 (Unix)
     Content-Type: text/html; charset=UTF-8
     Content-Length: 88
     Connection: close
```
3.空行
  - 响应头部和响应体之间有一个空行,表示响应头部的结束

4.响应体(可选):
  - 包含服务器对请求的回应数据;比如请求网页时,它会包含HTML内容。
  - 例如:网页的HTML,图片的二进制数据,或者是JSON/XML数据等

下面是一个HTTP响应报文的例子:
```
HTTP/1.1 200 OK
Date: Sun, 10 Oct 2020 14:28:00 GMT
Server: Apache/2.4.1 (Unix)
Last-Modified: Sat, 09 Oct 2020 14:28:00 GMT
Content-Type: text/html; charset=UTF-8
Content-Length: 88
Connection: close

<html>
<head>
  <title>An Example Page</title>
</head>
<body>
  Hello World, this is a very simple HTML document.
</body>
</html>
```

##  10.HTTP协议的优点和缺点
HTTP的优点包括:

1.简单易懂:HTTP的请求和响应模型简单明了,便于理解和使用,这使得它容易被广泛采用

2.灵活:HTTP允许传输任何类型的数据对象,只要服务端和客户端知道如何处理这些数据即可

3.无状态性:HTTP是无状态的协议,服务器不保存关于客户的任何数据。这种设计使得服务器更容易管理,因为不需要维护客户的连接状态,可以更好地服务于更多的客户

4.可扩展性:HTTP头部允许传递额外的信息,而且协议的标准允许自定义头部,为协议的扩展提供了便利

5.与网络基础设施兼容良好:HTTP在80端口工作,易于通过防火墙和代理,兼容性强

6.支持分布式环境:HTTP支持代理服务器和缓存服务器,可以减轻主服务器的负担,提高请求处理速度

HTTP的缺点包括:

1.不安全:HTTP本身不提供加密功能，数据以明文方式传输，因此容易被截获和篡改。虽然HTTPS(加密的HTTP)可以解决这个问题，但还是有很多网站在使用不安全的HTTP

2.无状态性也可能是缺点:虽然无状态设计使得服务器简单，但是它也限制了无法保持交互状态。例如，无法在不使用诸如Cookies或会话跟踪工具的情况下记住用户的信息

3.TCP连接的使用:每次HTTP请求都需要建立一个TCP连接(在HTTP/1.1中，这个问题可以通过持久连接进行一定程度的缓解)，这个过程可能导致相对较高的延迟，并且增加服务器端处理链接的复杂性

4.性能问题:HTTP/1.1虽然支持持久连接，但每个传输仍然需要一个完整的请求响应周期。HTTP/2通过引入流、多路复用等特性来提高性能，但是这些特性不是HTTP协议原始版本中的

5.数据冗余:HTTP的头部信息在每次请求时几乎都是重复的，特别是在一系列的请求中，这增加了不必要的数据传输量，特别是在移动网络较慢的情况下

##  11.当在浏览器中输入 Google.com 并且按下回车之后发生了什么？

1.域名解析

  - 浏览器首先检查缓存是否有"google.com"的IP地址(包括浏览器缓存、系统缓存、路由器缓存)。
  - 如果没有缓存，请求会发送到DNS服务器来解析域名"google.com"到对应的IP地址

2.建立TCP连接
  - 浏览器利用解析得到的IP地址，发起到Google服务器的TCP连接请求，这通常涉及到一个三次握手过程

3.发送HTTP请求
  - 一旦TCP连接建立，浏览器会构建HTTP请求并通过TCP连接发送给Google服务器
  - 请求包括一个请求行(通常是GET方法)，请求头部(如User-Agent,Accept-Language等)，以及必要的cookie数据

4.服务器处理请求并发送HTTP响应
  - Google的服务器接受请求后处理，然后返回一个HTTP响应。
  - 响应码通常包括状态码(如200 OK),HTTP头部信息，和请求的数据(即Google首页的HTML)

5.浏览器渲染页面
  - 浏览器接收到HTML响应后开始解析并构建DOM树
  - 浏览器处理HTML中的CSS和Javascript，并可能发出额外的HTTP请求去获取诸如图片、CSS文件、javascript文件等其他资源

6.关闭TCP连接
  - 页面加载完成后，TCP连接可以通过四次挥手过程关闭，也可能会根据HTTP头部信息中的Connection字段保持打开以供后续请求复用(Keep-Alive)

7.用户看到完全渲染的页面
  - 最终用户会在浏览器中看到完全渲染的Google首页


##  12.URL有哪些组成部分
URL(统一资源定位器)由若干个部分组成，用于指定互联网上资源的位置。一个典型的URL可能包含以下几个组成部分

1.协议(Scheme):
  - 指定了访问资源所使用的协议类型，例如http、https、ftp等
  - 例如:https://

2.子域名(Subdomain)
  - 通常是对网站的一个子集或者子分类
  - 例如:subdomain.example.com中的subdomain

3.域名(Domain)
  - 表示资源所在的服务器的名称，通常是该网站的可读名称
  - 例如: example.com中的example

4.顶级域名(TLD)
  - 域名的最后部分，表示域名所属的顶级域(如.com、.org、.net等)

5.端口(Port)(可选)
  - 用于访问资源的服务器端口号，如果省略，则使用协议的默认端口
  - 例如:80、443

6.路径(Path)
  - 表示资源在服务器上的具体位置。对应着文件系统中的路径，但也可能是抽象的，由服务器解释
  - 例如:/folder/page.html

7.查询字符串(Query)(可选)
  - 以问号(?)开头，后面跟着一个或多个参数。用于传递额外信息给服务端
  - 例如:?key1=value1&key2=value2

8.片段(Fragment)
  - 以井号(#)开头，指定网页中的一个片段或位置，常用于定位到页面的特定部分
  - 例如:#section1


##  13.HTTP1.1和HTTP2.0的区别
1.二进制协议
  - HTTP/1.1是一个文本协议，请求和响应中的头部信息都是文本形式
  - HTTP/2引入了二进制格式，使得解析更加高效，减少了错误，并且减少了不必要的网络开销

2.多路复用
  - 在HTTP/1.1中，每个请求需要一个TCP连接，这导致了连接数量的增加，并容易引起队头阻塞问题
  - HTTP/2通过使用单一的TCP连接进行多个请求和响应的多路复用，消除了队头阻塞，且更有效地使用网络资源

3.头部压缩
  - HTTP/1.1不包含头部压缩功能，导致头部携带的数据往往很大
  - HTTP/2使用HPACK压缩机制来减小头部大小，减少网络传输数据量

4.服务器推送
  - HTTP/1.1不支持服务器推送，服务器只能对客户端请求作出响应
  - HTTP/2允许服务器无需客户端请求即可发送资源，这样可以减少延迟，并充分利用连接的性能，提前发送客户端可能需要的资源

5.流优先级
  - HTTP/1.1不支持指定请求的优先级
  - HTTP/2支持为请求设置优先级，服务器可以根据优先级来决定先处理哪个请求，使得资源调度更加高效

6.安全性
  - 虽然HTTP/1.1支持HTTPS，但HTTP/2的规范建议使用TLS加密传输，以提高安全性
  - 许多浏览器实现HTTP/2时，实际上已经要求必须与TLS一起使用

##  14.HTTP2的头部压缩算法是怎样的？
HTTP/2使用称为HPACK的头部压缩算法来减少传输中头部数据的大小。HPACK压缩算法针对HTTP头部的特性进行了优化，并且通过以下几个主要的机制来减少需要传输的头部字节:

1.静态表
  - 用于保存常见的HTTP头部名称和值。这个表时预定义的，并且在客户端和服务器之间共享。它包含了一些最常用的HTTP头部字段，如:method,:path,:scheme,:status及常用值

2.动态表
  - 在连接期间，客户端和服务器可以通过HPACK将头部名称和值添加到动态表中，这样在后续的请求和响应中就可以通过索引来引用这些条目，而不是再次发送整个名称和值

3.霍夫曼编码
  - 核心数据使用霍夫曼编码进行压缩。霍夫曼编码是一种统计编码，它以常见的字符分配较短的编码，为不常见的字符分配较长的编码

4.索引表示
  - 当使用索引访问静态表或动态表中的头部表示时，只需要发送一个小的索引值

5.字面量表示
  - 如果头部不在静态表和动态表中，它可以以字面量形式发送，即使是字面量形式的头部也可以选择霍夫曼编码进行压缩

6.增量更新
  - 动态表中的头部可以通过请求进行增量更新，这意味着随着时间的推移，对头部进行的更改可以通过传输最小的增量进行


##  15.说一下HTTP 3.0
HTTP/3是互联网工程任务组(IETF)正在开发的HTTP协议的最新版本。它建立在先前版本的基础之上，并引入了一些关键的改进以进一步提升网络性能和可靠性。最显著的变化是HTTP/3不适用TCP作为传输层协议，而是使用QUIC(Quick UDP Internet Connections)

以下是HTTP/3的一些重要特征

1.基于QUIC协议
  - HTTP/3使用基于UDP的QUIC协议。QUIC解决了TCP在建立连接、传输可靠性、拥堵控制和多路复用方面的一些问题

2.减少连接延迟
  - QUIC通过减少握手过程(通常只需要单个往返时间)来显著减少连接的建立时间。这对于移动网络或需要启动多个连接进行资源获取的情况非常有益

3.连接迁移
  - QUIC具备连接迁移的特性，这意味着即使网络环境改变(例如切换Wi-Fi或移动网络)，连接状态也可以保持稳定，减少中断

4.独立流的拥堵控制
  - QUIC将不同的请求分散在独立的流上，并且每个流有自己的流控和拥堵控制。与HTTP/2不同的是，一个流的延迟不会影响其他流

5.内置加密
  - QUIC集成了TLS 1.3加密，保护用户数据，防止中间人攻击，并且加密的握手过程与QUIC的快速连接建立相结合

6.零RTT连接复用
  - 对雨之前已经建立过的连接，QUIC支持零往返时间(0-RTT)重启，这可以在重连时进一步减小延迟

##  16.HTTP和HTTPS协议的区别
HTTP和HTTPS的主要区别在于安全性方面。它们都用于在客户端与服务器之间传输数据，但使用不同的方式连接和传输数据。以下是HTTP和HTTPS的核心区别：

1.安全性
  - HTTP本身不包含任何加密机制，所以传输的信息(包括网址、传输的内容、用户凭据等)都是明文的，任何人在途中拦截流量都能直接读取这些信息。
  - HTTPS在HTTP的基础上增加了SSL/TLS(安全套接字层/传输层安全)加密，这个加密层可以保护传输过程中的数据不被第三方轻易截获和篡改

2.端口号
  - HTTP服务默认端口时80
  - HTTPS服务默认端口号时443

3.URL前缀
- HTTP网站的URL以http://开头
- HTTPS网站的URL以https://开头

4.证书要求
  - HTTP不需要证书
  - HTTPS需要SSL/TLS证书来验证服务器的身份，并用于加密数据。这些证书需要由信任的证书颁发机构(CA)颁发

5.性能
  - 由于数据加密和解密过程中需要消耗一定的计算资源，HTTPS在性能上可能比HTTP慢一些